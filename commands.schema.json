{
    "definitions":{
       
    },
    "$schema":"http://json-schema.org/draft-07/schema#",
    "type":"object",
    "properties":{
       "type":{
          "type":"string",
          "const":"command"
       },
       "command_type":{
          "type":"string",
          "enum":[
             "set_voltage",
             "set_voltage_and_check"
          ]
       },
       "block":{
          "enum":[ 
              1,
             "1"
          ]
       },
       "voltage":{
          "type":"number"
       }
    },
    "if":{
       "properties":{
          "command_type":{
             "const":"set_voltage_and_check"
          }
       }
    },
    "then":{
       "properties":{
          "max_error":{
             "type":"number"
          },
          "timeout":{
             "type":"number"
          }
       },
       "required":[
          "max_error",
          "timeout"
       ]
    },
    "required":[
       "type",
       "command_type",
       "block",
       "voltage"
    ]
 }